pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- penguino
-- by jenny brennan

penguin = 1
net = 4
snowball = 3

snowfall={}

gravity=1

level=1
points=0

x = 64 y = 100

function _init()
	for i=1, level do
		snow={
			sprite=snowball,
			snow_x=flr(rnd(120)+5),
			snow_y=i*(-20)
		}
		add(snowfall, snow)
	end
end

function _update()
	if (btn(0)) then x=x-2 end
	if (btn(1)) then x=x+2 end

	for snow in all(snowfall) do
		snow.snow_y+=gravity
		
		if snow.snow_y+4>y-8
		and snow.snow_y+4<y
		and snow.snow_x+4>x+8
		and snow.snow_x+4<x+16	then
			sfx(0)
			points+=1
			del(snowfall,snow)
		end
		
		if snow.snow_y>100 then
			del(snowfall, snow)
		end
	end
	
	if #snowfall==0 then
		level+=1
		_init()
	end
end

function _draw()
	cls()
	rectfill(0,0,127,127,1)
	rectfill(0,108,127,127,7)
	spr(penguin,x,y)
	spr(net,x+8,y)
	
	for snow in all(snowfall) do
		spr(snow.sprite,snow.snow_x,snow.snow_y)
	end

	print("score="..points)
end
__gfx__
00000000005777501111111111777701000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055575551111111117777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700056666651111111167777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700056166616111111116777767700cc677c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000666999661111111167777677ccc6cc6c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700577797751111111167776777000cc6c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000567777651111111166777770000c6c500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000995599011111111116666010000c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202030202020202020202030202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020203020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020203020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020302020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202030202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0302020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001c0502a0500e05002050080500f050270502e05000050000001c050290500f05003050000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000
